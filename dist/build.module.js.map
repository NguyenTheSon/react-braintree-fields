{"version":3,"file":"build.module.js","sources":["../src/api.js","../src/braintree.jsx","../src/field.jsx"],"sourcesContent":["import Braintree from 'braintree-web/client'\nimport HostedFields from 'braintree-web/hosted-fields'\nimport BraintreeDataCollector from 'braintree-web/data-collector'\nimport BraintreeThreeDSecure from 'braintree-web/three-d-secure';\n\nfunction cap(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport default class BraintreeClientApi {\n\n    fields = Object.create(null);\n\n    _nextFieldId = 0;\n\n    fieldHandlers = Object.create(null);\n\n    constructor({\n        authorization, styles, onAuthorizationSuccess, ...callbacks\n    }) {\n        this.styles = styles || {}\n        this.wrapperHandlers = callbacks || {}\n        this.setAuthorization(authorization, onAuthorizationSuccess)\n    }\n\n    setAuthorization(authorization, onAuthorizationSuccess) {\n        if (!authorization && this.authorization) {\n            this.teardown()\n        } else if (authorization && authorization !== this.authorization) {\n            // fields have not yet checked in, delay setting so they can register\n            if (0 === Object.keys(this.fields).length && !this.pendingAuthTimer) {\n                this.pendingAuthTimer = setTimeout(() => {\n                    this.pendingAuthTimer = null\n                    this.setAuthorization(authorization, onAuthorizationSuccess)\n                }, 5)\n                return\n            }\n\n            if (this.authorization) { this.teardown() }\n            this.authorization = authorization\n            Braintree.create({ authorization }, (err, clientInstance) => {\n                if (err) {\n                    this.onError(err)\n                } else {\n                    this.create(clientInstance, onAuthorizationSuccess)\n\n                    if (this.wrapperHandlers.threeDSecure) {\n                      console.log(\"BraintreeThreeDSecure\", BraintreeThreeDSecure, clientInstance)\n                      BraintreeThreeDSecure.create({\n                        version: this.wrapperHandlers.threeDSecureVersion || 2, // Will use 3DS2 whenever possible\n                        client: clientInstance\n                      }, this.wrapperHandlers.threeDSecure);\n                    }\n\n                    if (this.wrapperHandlers.onDataCollectorInstanceReady) {\n                        BraintreeDataCollector.create({\n                            client: clientInstance,\n                            kount: true,\n                        }, this.wrapperHandlers.onDataCollectorInstanceReady)\n                    }\n                }\n            })\n        }\n    }\n\n    nextFieldId() {\n        this._nextFieldId += 1\n        return this._nextFieldId\n    }\n\n    onError(err) {\n        if (!err) { return }\n        if (this.wrapperHandlers.onError) { this.wrapperHandlers.onError(err) }\n    }\n\n    create(client, onAuthorizationSuccess) {\n        this.client = client\n        HostedFields.create({\n            client,\n            styles: this.styles,\n            fields: this.fields,\n        }, (err, hostedFields) => {\n            if (err) {\n                this.onError(err)\n                return\n            }\n            this.hostedFields = hostedFields;\n            [\n                'blur', 'focus', 'empty', 'notEmpty',\n                'cardTypeChange', 'validityChange',\n            ].forEach((eventName) => {\n                hostedFields.on(eventName, ev => this.onFieldEvent(`on${cap(eventName)}`, ev))\n            })\n            this.onError(err)\n\n            if (onAuthorizationSuccess) {\n                onAuthorizationSuccess()\n            }\n        })\n    }\n\n    teardown() {\n        if (this.hostedFields) { this.hostedFields.teardown() }\n        if (this.pendingAuthTimer) {\n            clearTimeout(this.pendingAuthTimer)\n            this.pendingAuthTimer = null\n        }\n    }\n\n    checkInField({\n        formatInput,\n        maxlength,\n        minlength,\n        placeholder,\n        select,\n        type,\n        prefill,\n        id = `braintree-field-wrapper-${this.nextFieldId()}`,\n        rejectUnsupportedCards,\n        ...handlers\n    }) {\n        const onRenderComplete = () => {\n            this.fieldHandlers[type] = handlers\n            this.fields[type] = {\n                formatInput,\n                maxlength,\n                minlength,\n                placeholder,\n                select,\n                prefill,\n                selector: `#${id}`,\n            }\n            if (('number' === type) && rejectUnsupportedCards) {\n                this.fields.number.rejectUnsupportedCards = true\n            }\n        }\n        return [id, onRenderComplete]\n    }\n\n    focusField(fieldType, cb) {\n        this.hostedFields.focus(fieldType, cb)\n    }\n\n    clearField(fieldType, cb) {\n        this.hostedFields.clear(fieldType, cb)\n    }\n\n    setAttribute(fieldType, name, value) {\n        this.hostedFields.setAttribute({\n            field: fieldType,\n            attribute: name,\n            value,\n        })\n    }\n\n    onFieldEvent(eventName, event) {\n        const fieldHandlers = this.fieldHandlers[event.emittedBy]\n        if (fieldHandlers && fieldHandlers[eventName]) {\n            fieldHandlers[eventName](event.fields[event.emittedBy], event)\n        }\n        if (this.wrapperHandlers[eventName]) {\n            this.wrapperHandlers[eventName](event)\n        }\n    }\n\n    tokenize(options = {}) {\n        return new Promise((resolve, reject) => { // eslint-disable-line no-undef\n            this.hostedFields.tokenize(options, (err, payload) => {\n                if (err) {\n                    this.onError(err)\n                    reject(err)\n                } else {\n                    resolve(payload)\n                }\n            })\n        })\n    }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Api from './api';\n\nexport default class Braintree extends React.Component {\n\n    static propTypes = {\n        children: PropTypes.node.isRequired,\n        onAuthorizationSuccess: PropTypes.func,\n        authorization: PropTypes.string,\n        getTokenRef: PropTypes.func,\n        onValidityChange: PropTypes.func,\n        onCardTypeChange: PropTypes.func,\n        onError: PropTypes.func,\n        styles: PropTypes.object,\n        className: PropTypes.string,\n        tagName: PropTypes.string,\n    }\n\n    static defaultProps = {\n        tagName: 'div',\n    }\n\n    static childContextTypes = {\n        braintreeApi: PropTypes.instanceOf(Api),\n    }\n\n    constructor(props) {\n        super(props);\n        this.api = new Api(props);\n    }\n\n    componentDidMount() {\n        this.api.setAuthorization(this.props.authorization, this.props.onAuthorizationSuccess);\n        if (this.props.getTokenRef) {\n            this.props.getTokenRef(this.api.tokenize.bind(this.api));\n        }\n    }\n\n    componentWillUnmount() {\n        this.api.teardown();\n    }\n\n    componentDidUpdate() {\n        this.api.setAuthorization(this.props.authorization, this.props.onAuthorizationSuccess);\n    }\n\n    tokenize(options) {\n        return this.api.tokenize(options);\n    }\n\n    getChildContext() {\n        return { braintreeApi: this.api };\n    }\n\n    render() {\n        const { className: providedClass, tagName: Tag } = this.props;\n        let className = 'braintree-hosted-fields-wrapper';\n        if (providedClass) { className += ` ${providedClass}`; }\n        return (\n            <Tag className={className}>\n                {this.props.children}\n            </Tag>\n        );\n    }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Api from './api';\n\nexport default class BraintreeHostedField extends React.Component {\n\n    static propTypes = {\n        type: PropTypes.oneOf([\n            'number', 'expirationDate', 'expirationMonth', 'expirationYear', 'cvv', 'postalCode', 'cardholderName',\n        ]).isRequired,\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        placeholder: PropTypes.string,\n        className: PropTypes.string,\n        onCardTypeChange: PropTypes.func,\n        onValidityChange: PropTypes.func,\n        onNotEmpty: PropTypes.func,\n        onFocus: PropTypes.func,\n        onEmpty: PropTypes.func,\n        onBlur: PropTypes.func,\n        prefill: PropTypes.string,\n    }\n\n    static contextTypes = {\n        braintreeApi: PropTypes.instanceOf(Api),\n    }\n\n    state = {}\n\n    focus() {\n        this.context.braintreeApi.focusField(this.props.type);\n    }\n\n    clear() {\n        this.context.braintreeApi.clearField(this.props.type);\n    }\n\n    setPlaceholder(text) {\n        this.context.braintreeApi.setAttribute(this.props.type, 'placeholder', text);\n    }\n\n    componentDidMount() {\n        const [ fieldId,  onRenderComplete ] = this.context.braintreeApi.checkInField(this.props);\n        this.setState({ fieldId }, onRenderComplete);\n    }\n\n    get className() {\n        const list = ['braintree-hosted-field'];\n        if (this.props.className) { list.push(this.props.className); }\n        return list.join(' ');\n    }\n\n    render() {\n        const { fieldId } = this.state;\n        if (!fieldId) { return null; }\n\n        return <div id={fieldId} className={this.className} />;\n    }\n}\n"],"names":["cap","string","charAt","toUpperCase","slice","BraintreeClientApi","constructor","authorization","styles","onAuthorizationSuccess","callbacks","fields","Object","create","_nextFieldId","fieldHandlers","wrapperHandlers","setAuthorization","teardown","keys","length","pendingAuthTimer","setTimeout","Braintree","err","clientInstance","onError","threeDSecure","console","log","BraintreeThreeDSecure","version","threeDSecureVersion","client","onDataCollectorInstanceReady","BraintreeDataCollector","kount","nextFieldId","HostedFields","hostedFields","forEach","eventName","on","ev","onFieldEvent","clearTimeout","checkInField","formatInput","maxlength","minlength","placeholder","select","type","prefill","id","rejectUnsupportedCards","handlers","onRenderComplete","selector","number","focusField","fieldType","cb","focus","clearField","clear","setAttribute","name","value","field","attribute","event","emittedBy","tokenize","options","Promise","resolve","reject","payload","React","Component","props","api","Api","componentDidMount","getTokenRef","bind","componentWillUnmount","componentDidUpdate","getChildContext","braintreeApi","render","className","providedClass","tagName","Tag","children","propTypes","PropTypes","node","isRequired","func","onValidityChange","onCardTypeChange","object","defaultProps","childContextTypes","instanceOf","BraintreeHostedField","state","context","setPlaceholder","text","fieldId","setState","list","push","join","oneOf","oneOfType","onNotEmpty","onFocus","onEmpty","onBlur","contextTypes"],"mappings":"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"}