{"version":3,"file":"build.full.js","sources":["../src/api.js","../src/braintree.jsx","../src/field.jsx"],"sourcesContent":["import Braintree from 'braintree-web/client'\r\nimport HostedFields from 'braintree-web/hosted-fields'\r\nimport BraintreeDataCollector from 'braintree-web/data-collector'\r\nimport BraintreeThreeDSecure from 'braintree-web/three-d-secure';\r\n\r\nfunction cap(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1)\r\n}\r\n\r\nexport default class BraintreeClientApi {\r\n\r\n    fields = Object.create(null);\r\n\r\n    _nextFieldId = 0;\r\n\r\n    fieldHandlers = Object.create(null);\r\n\r\n    constructor({\r\n        authorization, styles, onAuthorizationSuccess, ...callbacks\r\n    }) {\r\n        this.styles = styles || {}\r\n        this.wrapperHandlers = callbacks || {}\r\n        this.setAuthorization(authorization, onAuthorizationSuccess)\r\n    }\r\n\r\n    setAuthorization(authorization, onAuthorizationSuccess) {\r\n        if (!authorization && this.authorization) {\r\n            this.teardown()\r\n        } else if (authorization && authorization !== this.authorization) {\r\n            // fields have not yet checked in, delay setting so they can register\r\n            if (0 === Object.keys(this.fields).length && !this.pendingAuthTimer) {\r\n                this.pendingAuthTimer = setTimeout(() => {\r\n                    this.pendingAuthTimer = null\r\n                    this.setAuthorization(authorization, onAuthorizationSuccess)\r\n                }, 5)\r\n                return\r\n            }\r\n\r\n            if (this.authorization) { this.teardown() }\r\n            this.authorization = authorization\r\n            Braintree.create({ authorization }, (err, clientInstance) => {\r\n                if (err) {\r\n                    this.onError(err)\r\n                } else {\r\n                    this.create(clientInstance, onAuthorizationSuccess)\r\n\r\n                    if (this.wrapperHandlers.threeDSecure) {\r\n                      console.log(\"BraintreeThreeDSecure\", BraintreeThreeDSecure, clientInstance)\r\n                      BraintreeThreeDSecure.create({\r\n                        version: 2, // Will use 3DS2 whenever possible\r\n                        client: clientInstance\r\n                      }, this.wrapperHandlers.threeDSecure);\r\n                    }\r\n\r\n                    if (this.wrapperHandlers.onDataCollectorInstanceReady) {\r\n                        BraintreeDataCollector.create({\r\n                            client: clientInstance,\r\n                            kount: true,\r\n                        }, this.wrapperHandlers.onDataCollectorInstanceReady)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    nextFieldId() {\r\n        this._nextFieldId += 1\r\n        return this._nextFieldId\r\n    }\r\n\r\n    onError(err) {\r\n        if (!err) { return }\r\n        if (this.wrapperHandlers.onError) { this.wrapperHandlers.onError(err) }\r\n    }\r\n\r\n    create(client, onAuthorizationSuccess) {\r\n        this.client = client\r\n        HostedFields.create({\r\n            client,\r\n            styles: this.styles,\r\n            fields: this.fields,\r\n        }, (err, hostedFields) => {\r\n            if (err) {\r\n                this.onError(err)\r\n                return\r\n            }\r\n            this.hostedFields = hostedFields;\r\n            [\r\n                'blur', 'focus', 'empty', 'notEmpty',\r\n                'cardTypeChange', 'validityChange',\r\n            ].forEach((eventName) => {\r\n                hostedFields.on(eventName, ev => this.onFieldEvent(`on${cap(eventName)}`, ev))\r\n            })\r\n            this.onError(err)\r\n\r\n            if (onAuthorizationSuccess) {\r\n                onAuthorizationSuccess()\r\n            }\r\n        })\r\n    }\r\n\r\n    teardown() {\r\n        if (this.hostedFields) { this.hostedFields.teardown() }\r\n        if (this.pendingAuthTimer) {\r\n            clearTimeout(this.pendingAuthTimer)\r\n            this.pendingAuthTimer = null\r\n        }\r\n    }\r\n\r\n    checkInField({\r\n        formatInput,\r\n        maxlength,\r\n        minlength,\r\n        placeholder,\r\n        select,\r\n        type,\r\n        prefill,\r\n        id = `braintree-field-wrapper-${this.nextFieldId()}`,\r\n        rejectUnsupportedCards,\r\n        ...handlers\r\n    }) {\r\n        const onRenderComplete = () => {\r\n            this.fieldHandlers[type] = handlers\r\n            this.fields[type] = {\r\n                formatInput,\r\n                maxlength,\r\n                minlength,\r\n                placeholder,\r\n                select,\r\n                prefill,\r\n                selector: `#${id}`,\r\n            }\r\n            if (('number' === type) && rejectUnsupportedCards) {\r\n                this.fields.number.rejectUnsupportedCards = true\r\n            }\r\n        }\r\n        return [id, onRenderComplete]\r\n    }\r\n\r\n    focusField(fieldType, cb) {\r\n        this.hostedFields.focus(fieldType, cb)\r\n    }\r\n\r\n    clearField(fieldType, cb) {\r\n        this.hostedFields.clear(fieldType, cb)\r\n    }\r\n\r\n    setAttribute(fieldType, name, value) {\r\n        this.hostedFields.setAttribute({\r\n            field: fieldType,\r\n            attribute: name,\r\n            value,\r\n        })\r\n    }\r\n\r\n    onFieldEvent(eventName, event) {\r\n        const fieldHandlers = this.fieldHandlers[event.emittedBy]\r\n        if (fieldHandlers && fieldHandlers[eventName]) {\r\n            fieldHandlers[eventName](event.fields[event.emittedBy], event)\r\n        }\r\n        if (this.wrapperHandlers[eventName]) {\r\n            this.wrapperHandlers[eventName](event)\r\n        }\r\n    }\r\n\r\n    tokenize(options = {}) {\r\n        return new Promise((resolve, reject) => { // eslint-disable-line no-undef\r\n            this.hostedFields.tokenize(options, (err, payload) => {\r\n                if (err) {\r\n                    this.onError(err)\r\n                    reject(err)\r\n                } else {\r\n                    resolve(payload)\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Api from './api';\r\n\r\nexport default class Braintree extends React.Component {\r\n\r\n    static propTypes = {\r\n        children: PropTypes.node.isRequired,\r\n        onAuthorizationSuccess: PropTypes.func,\r\n        authorization: PropTypes.string,\r\n        getTokenRef: PropTypes.func,\r\n        onValidityChange: PropTypes.func,\r\n        onCardTypeChange: PropTypes.func,\r\n        onError: PropTypes.func,\r\n        styles: PropTypes.object,\r\n        className: PropTypes.string,\r\n        tagName: PropTypes.string,\r\n    }\r\n\r\n    static defaultProps = {\r\n        tagName: 'div',\r\n    }\r\n\r\n    static childContextTypes = {\r\n        braintreeApi: PropTypes.instanceOf(Api),\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.api = new Api(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.api.setAuthorization(this.props.authorization, this.props.onAuthorizationSuccess);\r\n        if (this.props.getTokenRef) {\r\n            this.props.getTokenRef(this.api.tokenize.bind(this.api));\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.api.teardown();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.api.setAuthorization(this.props.authorization, this.props.onAuthorizationSuccess);\r\n    }\r\n\r\n    tokenize(options) {\r\n        return this.api.tokenize(options);\r\n    }\r\n\r\n    getChildContext() {\r\n        return { braintreeApi: this.api };\r\n    }\r\n\r\n    render() {\r\n        const { className: providedClass, tagName: Tag } = this.props;\r\n        let className = 'braintree-hosted-fields-wrapper';\r\n        if (providedClass) { className += ` ${providedClass}`; }\r\n        return (\r\n            <Tag className={className}>\r\n                {this.props.children}\r\n            </Tag>\r\n        );\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Api from './api';\r\n\r\nexport default class BraintreeHostedField extends React.Component {\r\n\r\n    static propTypes = {\r\n        type: PropTypes.oneOf([\r\n            'number', 'expirationDate', 'expirationMonth', 'expirationYear', 'cvv', 'postalCode', 'cardholderName',\r\n        ]).isRequired,\r\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        placeholder: PropTypes.string,\r\n        className: PropTypes.string,\r\n        onCardTypeChange: PropTypes.func,\r\n        onValidityChange: PropTypes.func,\r\n        onNotEmpty: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        onEmpty: PropTypes.func,\r\n        onBlur: PropTypes.func,\r\n        prefill: PropTypes.string,\r\n    }\r\n\r\n    static contextTypes = {\r\n        braintreeApi: PropTypes.instanceOf(Api),\r\n    }\r\n\r\n    state = {}\r\n\r\n    focus() {\r\n        this.context.braintreeApi.focusField(this.props.type);\r\n    }\r\n\r\n    clear() {\r\n        this.context.braintreeApi.clearField(this.props.type);\r\n    }\r\n\r\n    setPlaceholder(text) {\r\n        this.context.braintreeApi.setAttribute(this.props.type, 'placeholder', text);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const [ fieldId,  onRenderComplete ] = this.context.braintreeApi.checkInField(this.props);\r\n        this.setState({ fieldId }, onRenderComplete);\r\n    }\r\n\r\n    get className() {\r\n        const list = ['braintree-hosted-field'];\r\n        if (this.props.className) { list.push(this.props.className); }\r\n        return list.join(' ');\r\n    }\r\n\r\n    render() {\r\n        const { fieldId } = this.state;\r\n        if (!fieldId) { return null; }\r\n\r\n        return <div id={fieldId} className={this.className} />;\r\n    }\r\n}\r\n"],"names":["cap","string","charAt","toUpperCase","slice","BraintreeClientApi","constructor","authorization","styles","onAuthorizationSuccess","callbacks","fields","Object","create","_nextFieldId","fieldHandlers","wrapperHandlers","setAuthorization","teardown","keys","length","pendingAuthTimer","setTimeout","Braintree","err","clientInstance","onError","threeDSecure","console","log","BraintreeThreeDSecure","version","client","onDataCollectorInstanceReady","BraintreeDataCollector","kount","nextFieldId","HostedFields","hostedFields","forEach","eventName","on","ev","onFieldEvent","clearTimeout","checkInField","formatInput","maxlength","minlength","placeholder","select","type","prefill","id","rejectUnsupportedCards","handlers","onRenderComplete","selector","number","focusField","fieldType","cb","focus","clearField","clear","setAttribute","name","value","field","attribute","event","emittedBy","tokenize","options","Promise","resolve","reject","payload","React","Component","props","api","Api","componentDidMount","getTokenRef","bind","componentWillUnmount","componentDidUpdate","getChildContext","braintreeApi","render","className","providedClass","tagName","Tag","children","propTypes","PropTypes","node","isRequired","func","onValidityChange","onCardTypeChange","object","defaultProps","childContextTypes","instanceOf","BraintreeHostedField","state","context","setPlaceholder","text","fieldId","setState","list","push","join","oneOf","oneOfType","onNotEmpty","onFocus","onEmpty","onBlur","contextTypes"],"mappings":"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"}